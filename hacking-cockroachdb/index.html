<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.613a3714fa9d85827a3b.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.32.13"/><style data-styled="" data-styled-version="5.3.8">.beLylk{top:0;left:0;margin:0 auto;display:block;width:100%;z-index:1000;background-color:rgba(32,35,42,0.85);font-weight:700;}/*!sc*/
@media (min-width:700px){.beLylk{position:fixed;}}/*!sc*/
data-styled.g1[id="Header__HeaderWrapper-sc-1glvhxp-0"]{content:"beLylk,"}/*!sc*/
.bSvLGs{font-weight:700;margin-left:auto;margin-right:auto;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;max-width:770px;z-index:1000;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:0px 20px;}/*!sc*/
data-styled.g2[id="Header__HeaderNav-sc-1glvhxp-1"]{content:"bSvLGs,"}/*!sc*/
.gMdjUB{display:none;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (min-width:700px){.gMdjUB{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g3[id="Header__HeaderLinksContainer-sc-1glvhxp-2"]{content:"gMdjUB,"}/*!sc*/
.eYXESr{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;border:0;margin:0;padding:8px 10px;min-width:42px;z-index:10;}/*!sc*/
.Header__HeaderLink-sc-1glvhxp-3 + .Header__HeaderLink-sc-1glvhxp-3{margin-left:0.7rem;}/*!sc*/
data-styled.g4[id="Header__HeaderLink-sc-1glvhxp-3"]{content:"eYXESr,"}/*!sc*/
.cNDYfe{padding-left:0;}/*!sc*/
data-styled.g5[id="Header__HeaderLinkTitle-sc-1glvhxp-4"]{content:"cNDYfe,"}/*!sc*/
.gcQwuc{display:block;padding-left:0;}/*!sc*/
data-styled.g6[id="Header__HeaderLinkTitleContent-sc-1glvhxp-5"]{content:"gcQwuc,"}/*!sc*/
.dJWmJS{z-index:30;top:0px;position:relative;color:#ffffff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:transparent;border:none;cursor:pointer;padding:8px 12px;outline:none;-webkit-tap-highlight-color:transparent;}/*!sc*/
@media (min-width:700px){.dJWmJS{display:none;}}/*!sc*/
data-styled.g10[id="Header__BurgerButton-sc-1glvhxp-9"]{content:"dJWmJS,"}/*!sc*/
.BZsJM{width:24px;height:2px;background:#ffffff;position:absolute;left:0;background:#ffffff;-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.BZsJM::before{content:'';top:-8px;width:24px;height:2px;background:#ffffff;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.BZsJM::after{top:8px;content:'';width:24px;height:2px;background:white;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
data-styled.g11[id="Header__BurgerContent-sc-1glvhxp-10"]{content:"BZsJM,"}/*!sc*/
.bZZuNd{text-align:left;padding-top:30px;padding-bottom:50px;background-color:#3E4047;color:#ffffff;padding-left:20px;padding-right:20px;margin:0 auto;}/*!sc*/
.bZZuNd nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:900px;margin:0 auto;}/*!sc*/
.bZZuNd nav .footer-col{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:1em;padding-right:1em;}/*!sc*/
.bZZuNd a{color:#ffffff;font-weight:bold;}/*!sc*/
.bZZuNd a:hover{color:#CFCFD1;}/*!sc*/
.bZZuNd .footer-col > p{margin:0;}/*!sc*/
.bZZuNd .footer-title{margin:0 0 1rem;}/*!sc*/
.bZZuNd .footer-item{padding:0.25rem 0;color:#ffffff;}/*!sc*/
.bZZuNd .footer-heart{color:red;}/*!sc*/
.bZZuNd .footer-item-text{padding:0.1rem 0;color:#ffffff;}/*!sc*/
.bZZuNd .footer-header{-webkit-order:1;-ms-flex-order:1;order:1;margin:0 0.25rem;margin-right:0.25rem;padding:0.25rem;}/*!sc*/
@media (max-width:564px){.bZZuNd .footer-col:first-child{width:100%;}}/*!sc*/
data-styled.g12[id="Footer__FooterWrapper-sc-t92llg-0"]{content:"bZZuNd,"}/*!sc*/
*{box-sizing:border-box;margin:0;padding:0;}/*!sc*/
body{font-family:"Lato",sans-serif;color:#3E4047;background-color:#f4f8fb;}/*!sc*/
img{max-width:100%;height:auto;vertical-align:middle;border:0;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;color:#3E4047;}/*!sc*/
hr{border:0;border-top:1px solid #ECECED;margin:50px 0 5px 0;}/*!sc*/
ul,ol{padding-left:2em;margin:1em 0 0 0;}/*!sc*/
*::selection{background-color:#ffdc4e;}/*!sc*/
data-styled.g13[id="sc-global-bWaZNT1"]{content:"sc-global-bWaZNT1,"}/*!sc*/
.fCQgYt{line-height:1.6;margin:1em 0 0 0;}/*!sc*/
data-styled.g15[id="Commons__Text-sc-1aaxjtz-1"]{content:"fCQgYt,"}/*!sc*/
.bbfjCq{display:inline-block;color:#697980;margin:0 4px;}/*!sc*/
.bbfjCq::before{content:'•';}/*!sc*/
data-styled.g16[id="Commons__Bull-sc-1aaxjtz-2"]{content:"bbfjCq,"}/*!sc*/
.byspqc{margin:0 0;}/*!sc*/
@media (min-width:700px){.byspqc{margin:60px 0;}}/*!sc*/
data-styled.g17[id="layout__SiteContent-sc-nrr2ov-0"]{content:"byspqc,"}/*!sc*/
.gLFCRx{position:relative;border-radius:5px;width:80%;max-width:770px;word-wrap:break-word;background-color:#ffffff;margin:0px auto 30px auto;top:30px;padding:50px;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);}/*!sc*/
@media (max-width:780px){.gLFCRx{width:100%;padding:25px;}}/*!sc*/
data-styled.g18[id="Wrapper-sc-xmiwfw-0"]{content:"gLFCRx,"}/*!sc*/
.bdeuoL{position:relative;display:table;width:100%;height:400px;overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;}/*!sc*/
data-styled.g23[id="Hero__HeroContainer-sc-1wsaguq-0"]{content:"bdeuoL,"}/*!sc*/
.llhUZh{display:table-cell;vertical-align:middle;text-align:center;width:100%;}/*!sc*/
data-styled.g24[id="Hero__TitleContainer-sc-1wsaguq-1"]{content:"llhUZh,"}/*!sc*/
.eGvyVS{font-weight:700;font-size:3rem;margin:10px 50px;color:#ffffff;text-shadow:1px 1px 4px rgba(34,34,34,0.85);}/*!sc*/
data-styled.g25[id="Hero__HeroTitle-sc-1wsaguq-2"]{content:"eGvyVS,"}/*!sc*/
.lhQztB{display:inline;color:#697980;}/*!sc*/
data-styled.g27[id="TagList__ListContainer-sc-tgjq80-0"]{content:"lhQztB,"}/*!sc*/
.kZSdOS{text-transform:uppercase;color:#697980;}/*!sc*/
.kZSdOS:not(:first-child){margin-left:0.3rem;}/*!sc*/
.kZSdOS:hover{border-bottom:1px dotted #57595d;}/*!sc*/
.kZSdOS:before{content:'#';}/*!sc*/
data-styled.g28[id="TagList__TagListItemLink-sc-tgjq80-1"]{content:"kZSdOS,"}/*!sc*/
.kWMwkB{text-transform:uppercase;color:#697980;}/*!sc*/
.kWMwkB:not(:first-child){margin-left:0.3rem;}/*!sc*/
.kWMwkB:before{content:'#';}/*!sc*/
data-styled.g29[id="TagList__TagListItem-sc-tgjq80-2"]{content:"kWMwkB,"}/*!sc*/
.LLImc .author-image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;top:-40px;left:50%;margin-left:-40px;width:80px;height:80px;border-radius:100%;overflow:hidden;padding:6px;z-index:2;box-shadow:#ececec 0 0 0 1px;background-color:#ffffff;}/*!sc*/
.LLImc .author-image .img{position:relative;display:block;width:100%;height:100%;background-size:cover;background-position:center center;border-radius:100%;}/*!sc*/
.LLImc .author-profile .author-image{position:relative;left:auto;top:auto;width:120px;height:120px;padding:3px;margin:-100px auto 0 auto;box-shadow:none;}/*!sc*/
data-styled.g42[id="Bio__BioWrapper-sc-d7fgaq-0"]{content:"LLImc,"}/*!sc*/
.kJMedD a{box-shadow:0 2px 0 0 #ffdc4e;}/*!sc*/
.kJMedD a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
data-styled.g43[id="Bio__BioText-sc-d7fgaq-1"]{content:"kJMedD,"}/*!sc*/
.fUDAyc{margin-bottom:2rem;color:#57595d;font-size:0.9em;}/*!sc*/
data-styled.g47[id="ContentHeader__Header-sc-1qtxhip-0"]{content:"fUDAyc,"}/*!sc*/
.iNOQJu{line-height:1.6;}/*!sc*/
.iNOQJu > h2{padding-top:3rem;margin-top:3rem;border-top:1px solid #ececec;}/*!sc*/
.iNOQJu > h3{padding-top:3rem;}/*!sc*/
.iNOQJu > p{margin:1em 0 0 0;}/*!sc*/
.iNOQJu a{box-shadow:0 2px 0 0 #ffdc4e;}/*!sc*/
.iNOQJu a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
.iNOQJu a.anchor,.iNOQJu a.gatsby-resp-image-link{box-shadow:none;}/*!sc*/
.iNOQJu h1 .anchor svg,.iNOQJu h2 .anchor svg,.iNOQJu h3 .anchor svg,.iNOQJu h4 .anchor svg,.iNOQJu h5 .anchor svg,.iNOQJu h6 .anchor svg{visibility:hidden;margin-left:-16px;}/*!sc*/
.iNOQJu h1:hover .anchor svg,.iNOQJu h2:hover .anchor svg,.iNOQJu h3:hover .anchor svg,.iNOQJu h4:hover .anchor svg,.iNOQJu h5:hover .anchor svg,.iNOQJu h6:hover .anchor svg,.iNOQJu h1 .anchor:focus svg,.iNOQJu h2 .anchor:focus svg,.iNOQJu h3 .anchor:focus svg,.iNOQJu h4 .anchor:focus svg,.iNOQJu h5 .anchor:focus svg,.iNOQJu h6 .anchor:focus svg{visibility:visible;}/*!sc*/
.iNOQJu > blockquote{box-sizing:border-box;background-color:#f7f7f7;border-left:5px solid rgb(244,213,36);margin:30px 0px;padding:5px 20px;border-radius:0 8px 8px 0;}/*!sc*/
.iNOQJu > blockquote p{margin:0.8em 0;font-style:italic;}/*!sc*/
.iNOQJu .gatsby-highlight{border-radius:5px;font-size:15px;line-height:1.7;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em -1.5em;}/*!sc*/
@media (max-width:500px){.iNOQJu .gatsby-highlight{border-radius:0;margin-left:-25px;margin-right:-25px;}}/*!sc*/
.iNOQJu .gatsby-highlight > pre{border:0;margin:0;padding:1;}/*!sc*/
.iNOQJu .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}/*!sc*/
.iNOQJu .gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid #ffdc4e;}/*!sc*/
.iNOQJu h1 > code.language-text,.iNOQJu h2 > code.language-text,.iNOQJu h3 > code.language-text,.iNOQJu h4 > code.language-text,.iNOQJu h5 > code.language-text,.iNOQJu h6 > code.language-text,.iNOQJu a > code.language-text,.iNOQJu p > code.language-text,.iNOQJu li > code.language-text,.iNOQJu em > code.language-text,.iNOQJu strong > code.language-text{background:#fff9d9;color:#222222cc;padding:0 3px;font-size:0.94em;border-radius:0.3rem;word-wrap:break-word;}/*!sc*/
.iNOQJu code{word-wrap:break-word;}/*!sc*/
.iNOQJu table{margin-top:1em;border-collapse:collapse;border-radius:0.5em;overflow:hidden;}/*!sc*/
.iNOQJu table th,.iNOQJu table td{padding:0.5em;background:#f7f7f7;border-bottom:2px solid #ffffff;}/*!sc*/
data-styled.g48[id="Content__ContentBody-sc-p0bolz-0"]{content:"iNOQJu,"}/*!sc*/
.gqFXtA{padding:0 30px 30px;}/*!sc*/
@media only screen and (max-width:500px){.gqFXtA{padding:0;}}/*!sc*/
data-styled.g49[id="Article__ArticleWrapper-sc-jwdbi9-0"]{content:"gqFXtA,"}/*!sc*/
.jJwhJP{position:relative;margin:6rem 0 0;padding:3rem 0 0;border-top:1px solid #ececec;}/*!sc*/
data-styled.g50[id="Article__ArticleFooter-sc-jwdbi9-1"]{content:"jJwhJP,"}/*!sc*/
.ljGRQe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:770px;width:80%;margin:0px auto 30px auto;top:20px;position:relative;}/*!sc*/
@media (max-width:780px){.ljGRQe{width:100%;padding:25px;}}/*!sc*/
data-styled.g51[id="PrevNextPost__PreviewContainer-sc-1r1qyep-0"]{content:"ljGRQe,"}/*!sc*/
.kQwcEm{cursor:pointer;-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;background-color:#ffffff;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);margin:20px 20px;border-radius:5px;}/*!sc*/
.kQwcEm:hover{box-shadow:0 0 0 0,0 6px 12px #B2B3B5;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translate3D(0,-1px,0);-ms-transform:translate3D(0,-1px,0);transform:translate3D(0,-1px,0);}/*!sc*/
@media (min-width:780px){.kQwcEm:first-child{margin-left:0;}.kQwcEm:last-child{margin-right:0;}}/*!sc*/
data-styled.g52[id="PrevNextPost__Preview-sc-1r1qyep-1"]{content:"kQwcEm,"}/*!sc*/
.gWjtnY{width:auto;height:200px;background:#c5d2d9 no-repeat 50%;background-size:cover;border-radius:5px 5px 0 0;}/*!sc*/
data-styled.g53[id="PrevNextPost__PreviewCover-sc-1r1qyep-2"]{content:"gWjtnY,"}/*!sc*/
.fnSZzA{padding:20px;}/*!sc*/
.fnSZzA header{padding:0 0 10px 0;}/*!sc*/
.fnSZzA section{padding-bottom:10px;}/*!sc*/
.fnSZzA footer{font-size:0.8em;}/*!sc*/
data-styled.g54[id="PrevNextPost__PreviewContent-sc-1r1qyep-3"]{content:"fnSZzA,"}/*!sc*/
.bbCAMJ{text-transform:uppercase;color:#697980;}/*!sc*/
data-styled.g56[id="Commons__ReadingTimeContainer-sc-1aaxjtz-3"]{content:"bbCAMJ,"}/*!sc*/
.fDomXN{color:#697980;}/*!sc*/
data-styled.g57[id="Time__TimeContainer-sc-1u6vd0l-0"]{content:"fDomXN,"}/*!sc*/
</style><title data-react-helmet="true">CockroachDB 비트 레벨 해킹 따라해보기(절망편) | Devnori&#x27;s Tech Blog</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Lato:400,700&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="canonical" href="https://Sungchul-P.github.io/hacking-cockroachdb"/><meta data-react-helmet="true" name="description" content="데브시스터즈의 기술 블로그를 참고 및 인용하여 작성된 글임을 밝힙니다. 글을 따라가며, 직접 삽질해 보는 것을 목표로 했습니다. 다루지 않는 것 : CockroachDB…"/><meta data-react-helmet="true" property="og:url" content="https://Sungchul-P.github.io/hacking-cockroachdb"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="CockroachDB 비트 레벨 해킹 따라해보기(절망편) | Devnori&#x27;s Tech Blog"/><meta data-react-helmet="true" property="og:description" content="데브시스터즈의 기술 블로그를 참고 및 인용하여 작성된 글임을 밝힙니다. 글을 따라가며, 직접 삽질해 보는 것을 목표로 했습니다. 다루지 않는 것 : CockroachDB…"/><meta data-react-helmet="true" property="og:image" content="https://Sungchul-P.github.io/static/0bd3558428d3ba3c724f89f0a21c171f/data-center.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="CockroachDB 비트 레벨 해킹 따라해보기(절망편) | Devnori&#x27;s Tech Blog"/><meta data-react-helmet="true" name="twitter:description" content="데브시스터즈의 기술 블로그를 참고 및 인용하여 작성된 글임을 밝힙니다. 글을 따라가며, 직접 삽질해 보는 것을 목표로 했습니다. 다루지 않는 것 : CockroachDB…"/><meta data-react-helmet="true" name="twitter:image" content="https://Sungchul-P.github.io/static/0bd3558428d3ba3c724f89f0a21c171f/data-center.jpg"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-F68KCEBSGZ', 'auto', {});
      
      
      
      
      
      }</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl+'';f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer', 'G-F68KCEBSGZ');</script><link rel="icon" href="/favicon-32x32.png?v=f44b04687339c42b72dd22b8447a726f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=f44b04687339c42b72dd22b8447a726f"/><link as="script" rel="preload" href="/webpack-runtime-3addde89858b18712ae3.js"/><link as="script" rel="preload" href="/framework-8de36d3fd07627b19105.js"/><link as="script" rel="preload" href="/app-b3fd3eb1dc260f918a8b.js"/><link as="script" rel="preload" href="/styles-29147cbc04bbc833f6a0.js"/><link as="script" rel="preload" href="/3a2f1ab89072400eb78a258db61265f1964eff8a-8f8eed1747c24875300b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-73aef64fd53c7c31b11f.js"/><link as="fetch" rel="preload" href="/page-data/hacking-cockroachdb/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1182710729.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1956263691.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-F68KCEBSGZ" height="0" width="0" style="display: none; visibility: hidden" aria-hidden="true"></iframe></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__HeaderWrapper-sc-1glvhxp-0 beLylk"><nav class="Header__HeaderNav-sc-1glvhxp-1 bSvLGs"><a aria-label="View home page" class="Header__HeaderLink-sc-1glvhxp-3 Header__HeaderLinkTitle-sc-1glvhxp-4 eYXESr cNDYfe" href="/"><span class="Header__HeaderLinkTitleContent-sc-1glvhxp-5 gcQwuc">Devnori&#x27;s Tech Blog</span></a><div class="Header__HeaderLinksContainer-sc-1glvhxp-2 gMdjUB"><a aria-label="View Blog page" class="Header__HeaderLink-sc-1glvhxp-3 eYXESr" href="/">Blog</a><a aria-label="View About page" class="Header__HeaderLink-sc-1glvhxp-3 eYXESr" href="/about-me">About</a></div><button aria-label="open menu" class="Header__BurgerButton-sc-1glvhxp-9 dJWmJS"><div class="Header__BurgerContent-sc-1glvhxp-10 BZsJM"></div></button></nav></header><div class="layout__SiteContent-sc-nrr2ov-0 byspqc"><div style="background-image:url(&quot;/static/0bd3558428d3ba3c724f89f0a21c171f/data-center.jpg&quot;)" class="Hero__HeroContainer-sc-1wsaguq-0 bdeuoL"><div class="Hero__TitleContainer-sc-1wsaguq-1 llhUZh"><h1 class="Hero__HeroTitle-sc-1wsaguq-2 eGvyVS">CockroachDB 비트 레벨 해킹 따라해보기(절망편)</h1></div></div><main role="main" class="Wrapper-sc-xmiwfw-0 gLFCRx"><article class="Article__ArticleWrapper-sc-jwdbi9-0 gqFXtA"><section><header class="ContentHeader__Header-sc-1qtxhip-0 fUDAyc"><time class="Time__TimeContainer-sc-1u6vd0l-0 fDomXN">March 11, 2023</time><span class="Commons__Bull-sc-1aaxjtz-2 bbfjCq"></span><div class="TagList__ListContainer-sc-tgjq80-0 lhQztB"><a class="TagList__TagListItemLink-sc-tgjq80-1 kZSdOS" href="/tags/cockroach">cockroach</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 kZSdOS" href="/tags/hacking">hacking</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 kZSdOS" href="/tags/hacker-culture">hacker-culture</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 kZSdOS" href="/tags/hexdump">hexdump</a></div></header><div class="Content__ContentBody-sc-p0bolz-0 iNOQJu"><blockquote><p>데브시스터즈의 기술 블로그를 참고 및 인용하여 작성된 글임을 밝힙니다.</p><ul><li><p>글을 따라가며, 직접 삽질해 보는 것을 목표로 했습니다.</p></li><li><p>다루지 않는 것 : CockroachDB 및 각 이론에 대한 상세한 설명</p></li></ul></blockquote><h2 id="쿠키런-킹덤-사례와-해커-문화" style="position:relative"><a href="#%EC%BF%A0%ED%82%A4%EB%9F%B0-%ED%82%B9%EB%8D%A4-%EC%82%AC%EB%A1%80%EC%99%80-%ED%95%B4%EC%BB%A4-%EB%AC%B8%ED%99%94" aria-label="쿠키런 킹덤 사례와 해커 문화 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>쿠키런 킹덤 사례와 해커 문화</h2><p>얼마 전에 데브시스터즈의 기술 블로그에서 “<strong><a href="https://tech.devsisters.com/posts/bit-level-database-hacking/">CTO가 커리어를 걸고 비트 레벨까지 내려가서 DB를 해킹했던 이야기</a></strong>” 라는 글을 읽었는데, 주제 자체도 매우 흥미로웠지만 그보다도 과정이 너무나 인상 깊었습니다.</p><p>그래서 글에서 다룬 과정을 나는 어디까지 따라갈 수 있을까 궁금해졌고, 조금이라도 그 과정을 따라가 보기로 했습니다. (하지만, CockroachDB도 처음이고 모르는 내용 투성이라 겉핥기 식의 글이 될 예정입니다)</p><p>우선, 원글에서도 다룬 내용이지만 해킹이라는게 워낙 부정적인 용어로 쓰이다보니 해커 문화라는 용어에 대한 정의를 짚고 넘어가려고 합니다. 저의 설명보다 똑똑한 ChatGPT의 답변이 좋아서 이걸로 채택했습니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:81.08108108108108%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+UlEQVQoz21Sa4+bMBDMfyppq15ObQIkPMLbBtsYkkBCHpD+/48d46Pk1Eqj1XrxMOvZXby/ix9vwdvKWa28b9/tL8YGMIy1oZMl4loXX7A2lubyq7lYVfUmYq7LXZ87HnN94e2BcowCRZX4HxU/GGMo7V1ubeniZ3dzWSNlXx2fsh4AIR9c3qvDU1QPJm4Fv6IiD0NZDUzc5fFZiKvj8Z3LFuavxPM4ZR0tLqS4ZHmb8yuhZ1Ry1iHZOgVEtrtCq+lo2kQpm1uKVsFJsiZKjilp4+yUUhxP9q4wLYJ7H5hyy6ZgjmSbgAxClB4BcNQvaDvmTYxicgiiOk5PuhiOx5nsB1K9s7zjhTBm9GyOeJs2EtcQHeUrn8m4BJGUqLYT0kA8VbEZ8yajLWShhjqAHPc/KefsWohbzjuSK6vQAhohxRmecflA57ANLWhozyZyCHKXZg2YGT1nuQKc1xboHA/GV3WkLfr61PY+qmZXX6AvQUpDH/9Ckfdhxco7V7vxKOuhrHv4h84RRdVzgf4vqjXSQh87g9HMZLgHfhjXeBs8U/OIDxgJKkAQ19Ocs2nO5FVZsvKGZSwrLOnvctxQtZL1oJZUt1P1CnWPCrqYyBbBGOAwxJFAE/r4nZId9wGzUMl4DKMa7njBNCq1t04BbKzsv0Br/1Y0+Q9CSTIEHadOnQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/ac009f29a59bf251ff66404504e6e92f/cbe2e/01-hacker-culture.webp 148w,/static/ac009f29a59bf251ff66404504e6e92f/3084c/01-hacker-culture.webp 295w,/static/ac009f29a59bf251ff66404504e6e92f/5ca24/01-hacker-culture.webp 590w,/static/ac009f29a59bf251ff66404504e6e92f/dad35/01-hacker-culture.webp 885w,/static/ac009f29a59bf251ff66404504e6e92f/2baf0/01-hacker-culture.webp 1180w,/static/ac009f29a59bf251ff66404504e6e92f/b84eb/01-hacker-culture.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/ac009f29a59bf251ff66404504e6e92f/12f09/01-hacker-culture.png 148w,/static/ac009f29a59bf251ff66404504e6e92f/e4a3f/01-hacker-culture.png 295w,/static/ac009f29a59bf251ff66404504e6e92f/fcda8/01-hacker-culture.png 590w,/static/ac009f29a59bf251ff66404504e6e92f/efc66/01-hacker-culture.png 885w,/static/ac009f29a59bf251ff66404504e6e92f/c83ae/01-hacker-culture.png 1180w,/static/ac009f29a59bf251ff66404504e6e92f/e8950/01-hacker-culture.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/ac009f29a59bf251ff66404504e6e92f/fcda8/01-hacker-culture.png" alt="01-hacker-culture" title="01-hacker-culture" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h2 id="cockroachdb에-대한-간단한-소개" style="position:relative"><a href="#cockroachdb%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%86%8C%EA%B0%9C" aria-label="cockroachdb에 대한 간단한 소개 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CockroachDB에 대한 간단한 소개</h2><p>CockroachDB SQL 인터페이스(PostgreSQL)를 지원하면서 수평 확장이 가능한 분산형 데이터베이스입니다. 관계형 데이터베이스 처럼 보이지만 내부는 키-값(Key-Value) 저장소로 구현되어 있습니다. 최근 버전은 RocksDB 기반으로 직접 개발한 <a href="https://github.com/cockroachdb/pebble">Pebble</a> 이라는 엔진을 사용하고 있습니다.</p><p>Cockroach(바퀴벌레)라는 이름에서 느껴지는 것처럼 자체적으로 생존할 수 있는 다양한 옵션을 제공하여, 장애 상황 발생 시 서비스를 최대한 자동으로 복구해냅니다.</p><h2 id="cockroachdb-로컬-클러스터-구성" style="position:relative"><a href="#cockroachdb-%EB%A1%9C%EC%BB%AC-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%84%B1" aria-label="cockroachdb 로컬 클러스터 구성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CockroachDB 로컬 클러스터 구성</h2><p>도커를 이용해서 간단하게 클러스터를 구성해 보겠습니다. 구성 예제를 제공하고 있어서 실행만 하면 됩니다.</p><p>해당 예제에는 Prometheus + Grafana로 상세 지표 모니터링까지 가능하도록 구성되어 있습니다. (선택사항이므로, 클러스터만 테스트하려면 docker-compose.yaml 파일에서 제외하도록 합니다.)</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/cockroachdb/cockroach.git
<span class="token builtin class-name">cd</span> cockroach/monitoring/demo
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span></code></pre></div><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:11.486486486486488%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdElEQVQI12NwCIwy9gw2dPJ19I4wdfTTNnc1svex947QNHMxtPO2dg9RN3U2tPW2cgu2cA4wc/LXNHMFSkEQg1dIgltArL61p5NflFdoIpA0dw5w8o0Eyhnb+7oGxAAZQOOAIkBk6xmmb+NpZOdj4uAHNBoAaZAfW+JpoAIAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/44fc127256d9209813fba1738b48d3d3/cbe2e/02-install-cockroach.webp 148w,/static/44fc127256d9209813fba1738b48d3d3/3084c/02-install-cockroach.webp 295w,/static/44fc127256d9209813fba1738b48d3d3/5ca24/02-install-cockroach.webp 590w,/static/44fc127256d9209813fba1738b48d3d3/dad35/02-install-cockroach.webp 885w,/static/44fc127256d9209813fba1738b48d3d3/2baf0/02-install-cockroach.webp 1180w,/static/44fc127256d9209813fba1738b48d3d3/b84eb/02-install-cockroach.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/44fc127256d9209813fba1738b48d3d3/12f09/02-install-cockroach.png 148w,/static/44fc127256d9209813fba1738b48d3d3/e4a3f/02-install-cockroach.png 295w,/static/44fc127256d9209813fba1738b48d3d3/fcda8/02-install-cockroach.png 590w,/static/44fc127256d9209813fba1738b48d3d3/efc66/02-install-cockroach.png 885w,/static/44fc127256d9209813fba1738b48d3d3/c83ae/02-install-cockroach.png 1180w,/static/44fc127256d9209813fba1738b48d3d3/e8950/02-install-cockroach.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/44fc127256d9209813fba1738b48d3d3/fcda8/02-install-cockroach.png" alt="02-install-cockroach" title="02-install-cockroach" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>기본 제공하는 대시보드가 너무 깔끔하고, 필수정보는 다 확인이 가능해서 개인적으로 너무 만족스러웠습니다.</p><p>위 예제 수정 없이 실행하면 <a href="http://localhost:8080">localhost:8080</a> 으로 대시보드를 접속할 수 있습니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:55.4054054054054%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVQoz3VRi47EIAjs/3/pPdqu1irKw96gue5uLkcIBeo4Ay4h5s+Pr5Rya0xEtbbisara9Z916y0Z03Lmuu5xD8e2B/i6Pdz3kHJlMVHDLUimq3U4K/qIfdliDYkbazhyTGR2wXHChh8p50J2l2cOMdXG4K5Nli2kLZwAI1kDVAtVLqWauezGzCIzhxUfi6Gl947vssf8vR/UBDWGhc7GAoyP1l2hl+Ovl6I4Ahg6zgzwI2a0jtNrEYXjkI5p5cX1PTozkOsjlcpHOqc8MMwImx2z/rTflYNjOanhmTCnL3f88ilFm0c5M0EEuSQdTUY6b3RwJoZj5iIXCcBdh93MNx9y9KEWCXjaKzg72PX8BY/o4gfYl6f94jdmNmIcMpd7LwzLsXmbfzARZCOZj/IDzumFD+WnZeEAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/1a30d4235552d286036d0c4a306085d8/cbe2e/03-cockroach-dashboard.webp 148w,/static/1a30d4235552d286036d0c4a306085d8/3084c/03-cockroach-dashboard.webp 295w,/static/1a30d4235552d286036d0c4a306085d8/5ca24/03-cockroach-dashboard.webp 590w,/static/1a30d4235552d286036d0c4a306085d8/dad35/03-cockroach-dashboard.webp 885w,/static/1a30d4235552d286036d0c4a306085d8/2baf0/03-cockroach-dashboard.webp 1180w,/static/1a30d4235552d286036d0c4a306085d8/b84eb/03-cockroach-dashboard.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/1a30d4235552d286036d0c4a306085d8/12f09/03-cockroach-dashboard.png 148w,/static/1a30d4235552d286036d0c4a306085d8/e4a3f/03-cockroach-dashboard.png 295w,/static/1a30d4235552d286036d0c4a306085d8/fcda8/03-cockroach-dashboard.png 590w,/static/1a30d4235552d286036d0c4a306085d8/efc66/03-cockroach-dashboard.png 885w,/static/1a30d4235552d286036d0c4a306085d8/c83ae/03-cockroach-dashboard.png 1180w,/static/1a30d4235552d286036d0c4a306085d8/e8950/03-cockroach-dashboard.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/1a30d4235552d286036d0c4a306085d8/fcda8/03-cockroach-dashboard.png" alt="03-cockroach-dashboard" title="03-cockroach-dashboard" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h2 id="cockroachdb-해킹-과정-따라하기" style="position:relative"><a href="#cockroachdb-%ED%95%B4%ED%82%B9-%EA%B3%BC%EC%A0%95-%EB%94%B0%EB%9D%BC%ED%95%98%EA%B8%B0" aria-label="cockroachdb 해킹 과정 따라하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CockroachDB 해킹 과정 따라하기</h2><h3 id="1-샘플-데이터셋-생성" style="position:relative"><a href="#1-%EC%83%98%ED%94%8C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%85%8B-%EC%83%9D%EC%84%B1" aria-label="1 샘플 데이터셋 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 샘플 데이터셋 생성</h3><p>대용량 데이터를 구성해서 하기에는 무리가 있어서 CockroachDB에서 기본 제공하는 샘플 차량 공유 애플리케이션인 MovR을 기반 워크로드를 사용했습니다.</p><p>스키마 구성과 데이터 생성까지 자동화 되어 있어서 매우 간편합니다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> demo-roach1-1 ./cockroach workload init movr <span class="token punctuation">\</span>
<span class="token string">&#x27;postgresql://root@roach1:26257?sslmode=disable&#x27;</span>

<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> demo-roach1-1 ./cockroach workload run movr <span class="token punctuation">\</span>
<span class="token parameter variable">--duration</span><span class="token operator">=</span>5m <span class="token punctuation">\</span>
<span class="token string">&#x27;postgresql://root@roach1:26257?sslmode=disable&#x27;</span></code></pre></div><p>샘플 워크로드는 아래와 같이 관계가 맺어져 있는 6개의 테이블로 구성되어 있습니다. 본 글에서는 모든 데이터를 활용하지는 않고, 일부 데이터만 확인하기 때문에 참고만 합니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:89.86486486486487%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQ4y5WT227bMAyG/f6Ps5ttKdANBVpgWJNsWZwoiRMjtnxSbPlsSdRpbjtswVCkDaEbkfzEHyTl2LdMGlMIlTZ9MXCuzHnIuYC9JPotTPzTLkxw0RTC/PW/C9418O2AlVa1tkTod8PPWaiBr6t9nqYdKCqvhL1W3buev0U5LUvQ18k+tHLu46LIo5yGLbsOjpjyG15wlQ1wGgCMZcoMIJU2zos8c2ajRz9laKmfrm4j7vx0E5HFMfZIhbmZRPUvTA6NeKWyMmZZwgOm66RMe4lq8XHmUlqMoawXqFc3m2PbdZmwTgX6e0J3UbYKE4RTFGettjc+8UPcgx7PvpOfpkuEEANJhTwwc7feH71dzrUTMzNBYZKRigFth7QdYq5uw2rmrnFO6bhbTC3j3PWDoGxOoI+DcjPqBfhYdk4q7IeF9zib5k0zzqGR+tDB57Bao01GyKhTaMO05caCMaD/bJga+zJ2uwA7D1JCaS8V17aWmkqzIO12u3XXiA78fDb/mcO1wb3Iek4YjB+gBj1o+xCVj/N5ECeNuvRnnFzoLwFdhtksyHAn7LOkfc02OElaVktzCSZgbzfBD3eF6+4E5oLIV+BxXPdeiH7Od/t9zsQ/2Lz9iEOFmWIaFVXSwYnJqyr/BvyDDcWqKpdpAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/e4f40dee3c602d6faa92c90a6a370afd/cbe2e/04-cockroach-movr.webp 148w,/static/e4f40dee3c602d6faa92c90a6a370afd/3084c/04-cockroach-movr.webp 295w,/static/e4f40dee3c602d6faa92c90a6a370afd/5ca24/04-cockroach-movr.webp 590w,/static/e4f40dee3c602d6faa92c90a6a370afd/dad35/04-cockroach-movr.webp 885w,/static/e4f40dee3c602d6faa92c90a6a370afd/2baf0/04-cockroach-movr.webp 1180w,/static/e4f40dee3c602d6faa92c90a6a370afd/b84eb/04-cockroach-movr.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/e4f40dee3c602d6faa92c90a6a370afd/12f09/04-cockroach-movr.png 148w,/static/e4f40dee3c602d6faa92c90a6a370afd/e4a3f/04-cockroach-movr.png 295w,/static/e4f40dee3c602d6faa92c90a6a370afd/fcda8/04-cockroach-movr.png 590w,/static/e4f40dee3c602d6faa92c90a6a370afd/efc66/04-cockroach-movr.png 885w,/static/e4f40dee3c602d6faa92c90a6a370afd/c83ae/04-cockroach-movr.png 1180w,/static/e4f40dee3c602d6faa92c90a6a370afd/e8950/04-cockroach-movr.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/e4f40dee3c602d6faa92c90a6a370afd/fcda8/04-cockroach-movr.png" alt="04-cockroach-movr" title="04-cockroach-movr" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h3 id="2-sql-조회-데이터를-스토리지-파일에서-찾기" style="position:relative"><a href="#2-sql-%EC%A1%B0%ED%9A%8C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%ED%8C%8C%EC%9D%BC%EC%97%90%EC%84%9C-%EC%B0%BE%EA%B8%B0" aria-label="2 sql 조회 데이터를 스토리지 파일에서 찾기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. SQL 조회 데이터를 스토리지 파일에서 찾기</h3><p>CockroachDB 아키텍쳐는 여러 레이어로 구현되어 있습니다.</p><p>사용자 입장에서는 SQL 쿼리를 사용하지만, 내부는 Key-Vaule 구조로 구현되어 있는 방식입니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:25.675675675675674%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnElEQVQY032PWw7DIAwEuf9B2yjhjXGQwaZO0kbtT9HILBKLBpML8mDEPcScUul9XBCNMZhZ/mBi5bILdS5Q181Z55wP1nnNRH3OKfLmyvc6yr7IErU8EFFryrpZ68JmPVS8RU6XTtc8US+TcSacLKJXH89Fm7mAEmJKulUEwKrzCFXP8EGfM9C4kZzfbj7EqI1SW6NbeMqX7a/2CzQ0ItesQ5gCAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/0e233533b43550dd6e5f3d3a46b64058/cbe2e/05-cockroach-architecture.webp 148w,/static/0e233533b43550dd6e5f3d3a46b64058/3084c/05-cockroach-architecture.webp 295w,/static/0e233533b43550dd6e5f3d3a46b64058/5ca24/05-cockroach-architecture.webp 590w,/static/0e233533b43550dd6e5f3d3a46b64058/dad35/05-cockroach-architecture.webp 885w,/static/0e233533b43550dd6e5f3d3a46b64058/2baf0/05-cockroach-architecture.webp 1180w,/static/0e233533b43550dd6e5f3d3a46b64058/b84eb/05-cockroach-architecture.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/0e233533b43550dd6e5f3d3a46b64058/12f09/05-cockroach-architecture.png 148w,/static/0e233533b43550dd6e5f3d3a46b64058/e4a3f/05-cockroach-architecture.png 295w,/static/0e233533b43550dd6e5f3d3a46b64058/fcda8/05-cockroach-architecture.png 590w,/static/0e233533b43550dd6e5f3d3a46b64058/efc66/05-cockroach-architecture.png 885w,/static/0e233533b43550dd6e5f3d3a46b64058/c83ae/05-cockroach-architecture.png 1180w,/static/0e233533b43550dd6e5f3d3a46b64058/e8950/05-cockroach-architecture.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/0e233533b43550dd6e5f3d3a46b64058/fcda8/05-cockroach-architecture.png" alt="05-cockroach-architecture" title="05-cockroach-architecture" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>추상화 레이어인 SQL 인터페이스를 통해 데이터를 조회해 봅니다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> demo-roach1-1 ./cockroach sql <span class="token parameter variable">--insecure</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--execute</span><span class="token operator">=</span><span class="token string">&quot;select * from movr.users limit 1&quot;</span></code></pre></div><p>조회 결과로 확인 된 “James Hayes”를 Row를 스토리지 레이어에서 찾아보기로 합니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:7.4324324324324325%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVQI12Ow8Qi1dA3St/EytPU2svMxtvcxdvA1tPHStfNxN3NK17NI1bd0snDVt/c1sPE0sPXWt/Y0sPYCqtSxdAcAyl0O0IT9ZPwAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/05c122dec5ce62ed1ee619ba596c7f81/cbe2e/06-cockroach-sql.webp 148w,/static/05c122dec5ce62ed1ee619ba596c7f81/3084c/06-cockroach-sql.webp 295w,/static/05c122dec5ce62ed1ee619ba596c7f81/5ca24/06-cockroach-sql.webp 590w,/static/05c122dec5ce62ed1ee619ba596c7f81/dad35/06-cockroach-sql.webp 885w,/static/05c122dec5ce62ed1ee619ba596c7f81/2baf0/06-cockroach-sql.webp 1180w,/static/05c122dec5ce62ed1ee619ba596c7f81/b84eb/06-cockroach-sql.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/05c122dec5ce62ed1ee619ba596c7f81/12f09/06-cockroach-sql.png 148w,/static/05c122dec5ce62ed1ee619ba596c7f81/e4a3f/06-cockroach-sql.png 295w,/static/05c122dec5ce62ed1ee619ba596c7f81/fcda8/06-cockroach-sql.png 590w,/static/05c122dec5ce62ed1ee619ba596c7f81/efc66/06-cockroach-sql.png 885w,/static/05c122dec5ce62ed1ee619ba596c7f81/c83ae/06-cockroach-sql.png 1180w,/static/05c122dec5ce62ed1ee619ba596c7f81/e8950/06-cockroach-sql.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/05c122dec5ce62ed1ee619ba596c7f81/fcda8/06-cockroach-sql.png" alt="06-cockroach-sql" title="06-cockroach-sql" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>컨테이너에 터미널로 접속하여 디스크에 저장된 파일을 조회합니다.</p><p>데이터들은 SST(Sorted String Table) 포맷으로 저장되어 있습니다.</p><p>샘플 데이터셋을 생성한 직후에는 파일이 몇개 없으나, 시간이 흐르면 병합 작업이 진행되며 SST 파일이 많아져서 수동으로 찾기는 어려워 지니 빠르게 SST 파일을 복사하여 분석에 사용합시다. (SST 파일의 병합 과정에 대해서는 공식문서에서 설명되고 있긴 한데, 아직 이해하진 못했습니다ㅠ)</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> demo-roach1-1 /bin/bash
<span class="token punctuation">[</span>root@roach1 cockroach<span class="token punctuation">]</span><span class="token comment"># cd cockroach-data/</span>
<span class="token punctuation">[</span>root@roach1 cockroach-data<span class="token punctuation">]</span><span class="token comment"># ls -lh *.sst</span></code></pre></div><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:83.78378378378379%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQ4y12TC5KjMAxEc5HdGvIfMP7bkATIZO5/qH22QmY2VcZlZLXUasmbTumcLyEOIWbVW22cc9G6yCHlUYzHU9t2/flTOR8/msOfv42sDXfGBq5Zn23vfdLGh5C19oB9yM4nkMCwE/RynYjea4tzAXPa7o7N9nA6Ezth8SF1yqR84ZfkFZyM9aRZlkdlCiMjYLfbn8AXYjUqYOyAOcCi7TQHkOCX+3ceSlCib/jw2+2PgE/njmss0ANQnSJ+BK0qkNnfpjtpjfEttH+Di5MN/OLKnocrh1qzJkql7ef5Cy4SfdOuYGp+A6c0ivKrYI41Lw9aA4sK7jTJm+3+o9kDNgVcaCtlxvEmtEtmF6HKmuY7WliMqoLxfgpGzabUTAj2YbwCfmXGSEJoF7DQXmsWtTtbYdyxxzRI5tL/kAQ/zV/YJeJ/rUJt59LaKkNtsGVOKjijE4JN0z2ihbTqvc8+/epzcRIw7SFW7fNDMsuQGLxffRadRaRaM2ChnWVyARPF2ihDol81FzBqKx5H7DpdZzvVmpVMmK5qF7DUTID+RzC1ZiawRnnK89IqGU8XbtPC5NWB/+nz4a3PgMvzWpOI1CzAIK0LUHsKRtqXYPVVZbFXnZ4PQ54ktKGDZqT8B9ifvMA9PW6ZAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/7171003dc61c50eb282c3253754a55a0/cbe2e/07-sst-files.webp 148w,/static/7171003dc61c50eb282c3253754a55a0/3084c/07-sst-files.webp 295w,/static/7171003dc61c50eb282c3253754a55a0/5ca24/07-sst-files.webp 590w,/static/7171003dc61c50eb282c3253754a55a0/dad35/07-sst-files.webp 885w,/static/7171003dc61c50eb282c3253754a55a0/2baf0/07-sst-files.webp 1180w,/static/7171003dc61c50eb282c3253754a55a0/b84eb/07-sst-files.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/7171003dc61c50eb282c3253754a55a0/12f09/07-sst-files.png 148w,/static/7171003dc61c50eb282c3253754a55a0/e4a3f/07-sst-files.png 295w,/static/7171003dc61c50eb282c3253754a55a0/fcda8/07-sst-files.png 590w,/static/7171003dc61c50eb282c3253754a55a0/efc66/07-sst-files.png 885w,/static/7171003dc61c50eb282c3253754a55a0/c83ae/07-sst-files.png 1180w,/static/7171003dc61c50eb282c3253754a55a0/e8950/07-sst-files.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/7171003dc61c50eb282c3253754a55a0/fcda8/07-sst-files.png" alt="07-sst-files" title="07-sst-files" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">cp</span> demo-roach1-1:/cockroach/cockroach-data/000160.sst <span class="token builtin class-name">.</span></code></pre></div><p>복사한 SST 파일에서 hexdump를 이용해 문자열로 저장된 정보를 찾고, 해당 주소를 기준으로 앞뒤 정보를 확인 합니다. 아래 옵션들을 활용해서 출력해봅시다.</p><ul><li><code class="language-text">-C</code> : 출력 내용을 ASCII 문자열과 16진수 값으로 함께 출력합니다.</li><li><code class="language-text">-n &lt;길이&gt;</code>: 출력할 바이트 수를 지정합니다. 기본값은 무제한입니다.</li><li><code class="language-text">-s &lt;오프셋&gt;</code>: 출력할 시작 위치를 지정합니다. 기본값은 0입니다.</li></ul><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">hexdump <span class="token parameter variable">-C</span> 000160.sst <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;James Hayes&quot;</span></code></pre></div><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:10.135135135135135%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYUlEQVQI1yXIWw6CMBBAUdYBmQ5NO2+nQFDc/85UTM7HzZ3WWlABCT2283nlOBoRcmEqymAMteICK5T6N9+Wu6dtPzMPkTBPtYdYmOUXcagNsd/0SPch6sT26vJufDXuXT4jzRHzWcrIRAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/d7155225498afa33b0f6e521e99ce8ac/cbe2e/08-hexdump01.webp 148w,/static/d7155225498afa33b0f6e521e99ce8ac/3084c/08-hexdump01.webp 295w,/static/d7155225498afa33b0f6e521e99ce8ac/5ca24/08-hexdump01.webp 590w,/static/d7155225498afa33b0f6e521e99ce8ac/dad35/08-hexdump01.webp 885w,/static/d7155225498afa33b0f6e521e99ce8ac/2baf0/08-hexdump01.webp 1180w,/static/d7155225498afa33b0f6e521e99ce8ac/b84eb/08-hexdump01.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/d7155225498afa33b0f6e521e99ce8ac/12f09/08-hexdump01.png 148w,/static/d7155225498afa33b0f6e521e99ce8ac/e4a3f/08-hexdump01.png 295w,/static/d7155225498afa33b0f6e521e99ce8ac/fcda8/08-hexdump01.png 590w,/static/d7155225498afa33b0f6e521e99ce8ac/efc66/08-hexdump01.png 885w,/static/d7155225498afa33b0f6e521e99ce8ac/c83ae/08-hexdump01.png 1180w,/static/d7155225498afa33b0f6e521e99ce8ac/e8950/08-hexdump01.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/d7155225498afa33b0f6e521e99ce8ac/fcda8/08-hexdump01.png" alt="08-hexdump01" title="08-hexdump01" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h3 id="3-저장된-데이터-구조-파악해보기" style="position:relative"><a href="#3-%EC%A0%80%EC%9E%A5%EB%90%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0-%ED%8C%8C%EC%95%85%ED%95%B4%EB%B3%B4%EA%B8%B0" aria-label="3 저장된 데이터 구조 파악해보기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 저장된 데이터 구조 파악해보기</h3><p>패턴을 확인하기 위해 출력 시작 위치를 ‘001332a0’에서 20바이트 전으로 지정하고, 200바이트를 출력하도록 설정하여 실행해봅니다.</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">hexdump <span class="token parameter variable">-s</span> 0x00133280 <span class="token parameter variable">-n</span> <span class="token number">200</span> <span class="token parameter variable">-C</span> 000160.sst</code></pre></div><p>SST 파일에서 name, address, credit_card 정보는 같은 Key에 함께 저장되는 것으로 보입니다. 저의 시야로는 각 Value의 길이를 담은 Byte만 확인이 가능했습니다. Value의 포맷은 <code class="language-text">&lt;4-byte-checksum&gt;&lt;1-byte-tag&gt;&lt;encoded-data&gt;</code> 이렇게 되어 있다고 하는데, 솔직히 어떻게 구분해야 하는지 감을 못잡아서 진행 자체를 못했습니다.</p><p>SQL에서 조회한 컬럼별 데이터를 hexdump로 확인한 값과 매칭하여 다시 나열해보면 아래와 같습니다.</p><ul><li>name : James Hayes(0x0b == 11)</li><li>address : 76898 Amy Shoal Apt. 60(0x17 == 23)</li><li>credit_card : 0837511685(0x0a == 10)</li></ul><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:48.64864864864865%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjklEQVQozyVSi27bMAz0l6yxE0cSRYp62bHbdMPSrkCHFSuWIuiA/f937JQAhEBT4h3v6G4ft1vqmbVOcy6TdV40GkvL+jAfVkf85a7f9FvE3Wbohx0CyS264/Fr0KSpJETMqimnEkLUmEqZSp1QL3WOKQMXoIAjL7vRAKUr00E5zEHfnb8Y+2bpN/m3cf/L2JbgtO7V0k9jl3FvRRUEMQMCs3R1fXgi/nT+zHIm/pBw8XxydDHub4hnDn/Iv5P/sO7RujQvOVcowiytuaz3J+J/zn86+uHlm5dnDkXCs6MX0e8sJwlPoifPmRjqoEZC9ByG7djNy6qiFWWNkrKPiTSRqBF1SDS2T00+ldESBjeQzgHiG/N6f4RhKVcoQQKrYszAhnMVPsUMq3AVrzqRwK1pPuRSG3OdDp5FgqIBwaIIvAA8sLwEFJGIKCgBARputqXWDPWN50qLEi7wAieK2BM2j1XBJPSAGSee4Rbzt1VN8+K5LeDKrDceMG/69ksMww7abicaMM7eOHDe/pn/KJpte9l5hP4AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/4e2257b05b141b51d265e7f25a6bd59b/cbe2e/09-hexdump02.webp 148w,/static/4e2257b05b141b51d265e7f25a6bd59b/3084c/09-hexdump02.webp 295w,/static/4e2257b05b141b51d265e7f25a6bd59b/5ca24/09-hexdump02.webp 590w,/static/4e2257b05b141b51d265e7f25a6bd59b/dad35/09-hexdump02.webp 885w,/static/4e2257b05b141b51d265e7f25a6bd59b/2baf0/09-hexdump02.webp 1180w,/static/4e2257b05b141b51d265e7f25a6bd59b/b84eb/09-hexdump02.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/4e2257b05b141b51d265e7f25a6bd59b/12f09/09-hexdump02.png 148w,/static/4e2257b05b141b51d265e7f25a6bd59b/e4a3f/09-hexdump02.png 295w,/static/4e2257b05b141b51d265e7f25a6bd59b/fcda8/09-hexdump02.png 590w,/static/4e2257b05b141b51d265e7f25a6bd59b/efc66/09-hexdump02.png 885w,/static/4e2257b05b141b51d265e7f25a6bd59b/c83ae/09-hexdump02.png 1180w,/static/4e2257b05b141b51d265e7f25a6bd59b/e8950/09-hexdump02.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/4e2257b05b141b51d265e7f25a6bd59b/fcda8/09-hexdump02.png" alt="09-hexdump02" title="09-hexdump02" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h2 id="마무리" style="position:relative"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-label="마무리 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마무리</h2><p>예상은 했지만, 아직 모르는게 너무 많아서 뭘 하고 있는지도 모를때가 많았던 것 같습니다.</p><p>하지만 이렇게라도 해보는 것으로 공부해야할 키워드를 찾게 되었고, ‘이렇게 까지 봐야 할 수도 있구나’ 라는 사고를 넓히게 되어 완전 실패는 아니라고 생각합니다. 이번 글은 뭔가 쓰다만 미완성 절망편 글이 되어버렸지만, 지식을 넓혀 희망편을 완성하고 싶네요.</p><p>이번에 모르는 것 투성이였지만, 그 중에서 우선적으로 공부해서 알고 싶은 것들은 아래와 같습니다.</p><ul><li>Log-structured Merge-tree (LSM)</li><li>Multiversion concurrency control (MVCC)</li><li>Raft Protocol</li></ul><h2 id="참고자료" style="position:relative"><a href="#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C" aria-label="참고자료 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고자료</h2><ul><li><p><a href="https://tech.devsisters.com/posts/bit-level-database-hacking/">CTO가 커리어를 걸고 비트 레벨까지 내려가서 DB를 해킹했던 이야기</a></p></li><li><p><a href="https://www.cockroachlabs.com/docs/stable/start-a-local-cluster-in-docker-mac.html">CockroachDB - 로컬 클러스터 생성</a></p></li><li><p><a href="https://www.cockroachlabs.com/docs/stable/movr.html">Cockroach - MovR 데이터셋</a></p></li><li><p><a href="https://tech.devsisters.com/posts/cockroachdb-in-production/">CockroachDB in Production</a></p></li></ul></div></section><footer class="Article__ArticleFooter-sc-jwdbi9-1 jJwhJP"><div class="Bio__BioWrapper-sc-d7fgaq-0 LLImc"><figure class="author-image"><div alt="Sungchul Park" style="background-image:url(&quot;/static/f44b04687339c42b72dd22b8447a726f/66640/icon.png&quot;)" class="img"></div></figure><section><h4>About the author</h4><p class="Commons__Text-sc-1aaxjtz-1 Bio__BioText-sc-d7fgaq-1 fCQgYt kJMedD">
  배움을 멈추지 않고, 언젠가 넓고 깊은 지식을 갖게 되기를 꿈꾸고 있습니다! 🚀 <br>
  또한 누군가에게 선한 영향력을 미칠 수 있는 사람이 되기를 소망합니다 🌟
  </p></section></div></footer></article> </main><main role="main" class="Wrapper-sc-xmiwfw-0 gLFCRx"><div class="comments-wrapper"><div>Loading script...</div><div></div></div></main> <aside class="PrevNextPost__PreviewContainer-sc-1r1qyep-0 ljGRQe"><article class="PrevNextPost__Preview-sc-1r1qyep-1 kQwcEm"><a aria-label="View 2023, 글또8기 - 글쓰기 습관의 시작 article" href="/writing-habit-with-geultto8"><div style="background-image:url(&quot;/static/0ae3fb17c129a9e9601a5d02bfca63a2/write-desktop.jpg&quot;)" class="PrevNextPost__PreviewCover-sc-1r1qyep-2 gWjtnY"></div><div class="PrevNextPost__PreviewContent-sc-1r1qyep-3 fnSZzA"><header><h2>2023, 글또8기 - 글쓰기 습관의 시작</h2></header><section><p>꾸준한 실패, 이제는 결실을 맺을 시기 이번 글또…</p></section><footer><span class="Commons__ReadingTimeContainer-sc-1aaxjtz-3 bbCAMJ">1<!-- --> min read</span><span class="Commons__Bull-sc-1aaxjtz-2 bbfjCq"></span><div class="TagList__ListContainer-sc-tgjq80-0 lhQztB"><span to="/tags/geultto8" class="TagList__TagListItem-sc-tgjq80-2 kWMwkB">geultto8</span>, <span to="/tags/habit" class="TagList__TagListItem-sc-tgjq80-2 kWMwkB">habit</span>, <span to="/tags/writing" class="TagList__TagListItem-sc-tgjq80-2 kWMwkB">writing</span>, <span to="/tags/blog" class="TagList__TagListItem-sc-tgjq80-2 kWMwkB">blog</span></div></footer></div></a></article></aside> <!-- --> </div><footer class="Footer__FooterWrapper-sc-t92llg-0 bZZuNd"><nav><div class="footer-col"><h5 class="footer-title">Sungchul Park<!-- --> © <!-- -->2023</h5><p class="footer-item-text">Built with<!-- --> <a class="footer-link" href="https://www.gatsbyjs.org">Gatsby</a>.</p><p class="footer-item-text">Theme using<!-- --> <a class="footer-link" href="https://github.com/maxpou/gatsby-starter-morning-dew">gatsby-starter-morning-dew</a>.</p><p class="footer-item-text">Hosted with<!-- --> <span class="footer-heart" role="img" aria-label="Love">❤</span> <!-- -->by<!-- --> <a class="footer-link" href="https://github.com">GitHub</a>.</p></div><div class="footer-col"><h5 class="footer-title">Explore</h5><span class="footer-item"><a class="footer-link" href="/">Blog</a></span><span class="footer-item"><a class="footer-link" href="/about-me">About</a></span></div><div class="footer-col"><h5 class="footer-title">Follow the author</h5><span class="footer-item"><a class="footer-link" href="https://github.com/Sungchul-P/Sungchul-P.github.io">GitHub</a></span><span class="footer-item"><a class="footer-link" href="https://Sungchul-P.github.io/">Website</a></span></div></nav></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://cdn.panelbear.com/analytics.js?site=AVlbX7MNoAU"></script><script>
          window.panelbear = window.panelbear || function() { (window.panelbear.q = window.panelbear.q || []).push(arguments); };
          panelbear('config', {"site":"AVlbX7MNoAU","spaMode":"history","debug":false});
        </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/hacking-cockroachdb";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9e490ddcf07d7db5763c.js"],"app":["/app-b3fd3eb1dc260f918a8b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-46b4173e1060a5c82475.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a72ee7ffca8b83238a2b.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-54561993b6a7096d46a2.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-73aef64fd53c7c31b11f.js"],"component---src-templates-page-js":["/component---src-templates-page-js-0b5bdd29587c20861475.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-0ddf0482cd140cfb2415.js"]};/*]]>*/</script><script src="/polyfill-9e490ddcf07d7db5763c.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-73aef64fd53c7c31b11f.js" async=""></script><script src="/3a2f1ab89072400eb78a258db61265f1964eff8a-8f8eed1747c24875300b.js" async=""></script><script src="/styles-29147cbc04bbc833f6a0.js" async=""></script><script src="/app-b3fd3eb1dc260f918a8b.js" async=""></script><script src="/framework-8de36d3fd07627b19105.js" async=""></script><script src="/webpack-runtime-3addde89858b18712ae3.js" async=""></script></body></html>