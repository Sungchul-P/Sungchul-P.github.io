<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.b894e164f4e1b0decb24.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.32.13"/><style data-styled="" data-styled-version="5.3.11">.biaPcg{top:0;left:0;margin:0 auto;display:block;width:100%;z-index:1000;background-color:rgba(32,35,42,0.85);font-weight:700;}/*!sc*/
@media (min-width:700px){.biaPcg{position:fixed;}}/*!sc*/
data-styled.g1[id="Header__HeaderWrapper-sc-1glvhxp-0"]{content:"biaPcg,"}/*!sc*/
.iytSks{font-weight:700;margin-left:auto;margin-right:auto;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;max-width:770px;z-index:1000;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:0px 20px;}/*!sc*/
data-styled.g2[id="Header__HeaderNav-sc-1glvhxp-1"]{content:"iytSks,"}/*!sc*/
.eqjnh{display:none;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (min-width:700px){.eqjnh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g3[id="Header__HeaderLinksContainer-sc-1glvhxp-2"]{content:"eqjnh,"}/*!sc*/
.elhPiP{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;border:0;margin:0;padding:8px 10px;min-width:42px;z-index:10;}/*!sc*/
.Header__HeaderLink-sc-1glvhxp-3 + .Header__HeaderLink-sc-1glvhxp-3{margin-left:0.7rem;}/*!sc*/
data-styled.g4[id="Header__HeaderLink-sc-1glvhxp-3"]{content:"elhPiP,"}/*!sc*/
.CyAGW{padding-left:0;}/*!sc*/
data-styled.g5[id="Header__HeaderLinkTitle-sc-1glvhxp-4"]{content:"CyAGW,"}/*!sc*/
.eBBsKA{display:block;padding-left:0;}/*!sc*/
data-styled.g6[id="Header__HeaderLinkTitleContent-sc-1glvhxp-5"]{content:"eBBsKA,"}/*!sc*/
.fVNxWa{z-index:30;top:0px;position:relative;color:#ffffff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:transparent;border:none;cursor:pointer;padding:8px 12px;outline:none;-webkit-tap-highlight-color:transparent;}/*!sc*/
@media (min-width:700px){.fVNxWa{display:none;}}/*!sc*/
data-styled.g10[id="Header__BurgerButton-sc-1glvhxp-9"]{content:"fVNxWa,"}/*!sc*/
.haVLMs{width:24px;height:2px;background:#ffffff;position:absolute;left:0;background:#ffffff;-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.haVLMs::before{content:'';top:-8px;width:24px;height:2px;background:#ffffff;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.haVLMs::after{top:8px;content:'';width:24px;height:2px;background:white;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
data-styled.g11[id="Header__BurgerContent-sc-1glvhxp-10"]{content:"haVLMs,"}/*!sc*/
.gWjXHt{text-align:left;padding-top:30px;padding-bottom:50px;background-color:#3E4047;color:#ffffff;padding-left:20px;padding-right:20px;margin:0 auto;}/*!sc*/
.gWjXHt nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:900px;margin:0 auto;}/*!sc*/
.gWjXHt nav .footer-col{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:1em;padding-right:1em;}/*!sc*/
.gWjXHt a{color:#ffffff;font-weight:bold;}/*!sc*/
.gWjXHt a:hover{color:#CFCFD1;}/*!sc*/
.gWjXHt .footer-col > p{margin:0;}/*!sc*/
.gWjXHt .footer-title{margin:0 0 1rem;}/*!sc*/
.gWjXHt .footer-item{padding:0.25rem 0;color:#ffffff;}/*!sc*/
.gWjXHt .footer-heart{color:red;}/*!sc*/
.gWjXHt .footer-item-text{padding:0.1rem 0;color:#ffffff;}/*!sc*/
.gWjXHt .footer-header{-webkit-order:1;-ms-flex-order:1;order:1;margin:0 0.25rem;margin-right:0.25rem;padding:0.25rem;}/*!sc*/
@media (max-width:564px){.gWjXHt .footer-col:first-child{width:100%;}}/*!sc*/
data-styled.g12[id="Footer__FooterWrapper-sc-t92llg-0"]{content:"gWjXHt,"}/*!sc*/
*{box-sizing:border-box;margin:0;padding:0;}/*!sc*/
body{font-family:"Lato",sans-serif;color:#3E4047;background-color:#f4f8fb;}/*!sc*/
img{max-width:100%;height:auto;vertical-align:middle;border:0;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;color:#3E4047;}/*!sc*/
hr{border:0;border-top:1px solid #ECECED;margin:50px 0 5px 0;}/*!sc*/
ul,ol{padding-left:2em;margin:1em 0 0 0;}/*!sc*/
*::selection{background-color:#ffdc4e;}/*!sc*/
data-styled.g13[id="sc-global-bWaZNT1"]{content:"sc-global-bWaZNT1,"}/*!sc*/
.jXHCFx{line-height:1.6;margin:1em 0 0 0;}/*!sc*/
data-styled.g15[id="Commons__Text-sc-1aaxjtz-1"]{content:"jXHCFx,"}/*!sc*/
.geJapC{display:inline-block;color:#697980;margin:0 4px;}/*!sc*/
.geJapC::before{content:'•';}/*!sc*/
data-styled.g16[id="Commons__Bull-sc-1aaxjtz-2"]{content:"geJapC,"}/*!sc*/
.kOLqDM{margin:0 0;}/*!sc*/
@media (min-width:700px){.kOLqDM{margin:60px 0;}}/*!sc*/
data-styled.g17[id="layout__SiteContent-sc-nrr2ov-0"]{content:"kOLqDM,"}/*!sc*/
.goZNct{position:relative;border-radius:5px;width:80%;max-width:770px;word-wrap:break-word;background-color:#ffffff;margin:0px auto 30px auto;top:30px;padding:50px;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);}/*!sc*/
@media (max-width:780px){.goZNct{width:100%;padding:25px;}}/*!sc*/
data-styled.g18[id="Wrapper-sc-xmiwfw-0"]{content:"goZNct,"}/*!sc*/
.hVUfrb{position:relative;display:table;width:100%;height:400px;overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;}/*!sc*/
data-styled.g23[id="Hero__HeroContainer-sc-1wsaguq-0"]{content:"hVUfrb,"}/*!sc*/
.fvPyrh{display:table-cell;vertical-align:middle;text-align:center;width:100%;}/*!sc*/
data-styled.g24[id="Hero__TitleContainer-sc-1wsaguq-1"]{content:"fvPyrh,"}/*!sc*/
.fohBYO{font-weight:700;font-size:3rem;margin:10px 50px;color:#ffffff;text-shadow:1px 1px 4px rgba(34,34,34,0.85);}/*!sc*/
data-styled.g25[id="Hero__HeroTitle-sc-1wsaguq-2"]{content:"fohBYO,"}/*!sc*/
.grBXYh{display:inline;color:#697980;}/*!sc*/
data-styled.g27[id="TagList__ListContainer-sc-tgjq80-0"]{content:"grBXYh,"}/*!sc*/
.dYmwqK{text-transform:uppercase;color:#697980;}/*!sc*/
.dYmwqK:not(:first-child){margin-left:0.3rem;}/*!sc*/
.dYmwqK:hover{border-bottom:1px dotted #57595d;}/*!sc*/
.dYmwqK:before{content:'#';}/*!sc*/
data-styled.g28[id="TagList__TagListItemLink-sc-tgjq80-1"]{content:"dYmwqK,"}/*!sc*/
.hvdKzN{text-transform:uppercase;color:#697980;}/*!sc*/
.hvdKzN:not(:first-child){margin-left:0.3rem;}/*!sc*/
.hvdKzN:before{content:'#';}/*!sc*/
data-styled.g29[id="TagList__TagListItem-sc-tgjq80-2"]{content:"hvdKzN,"}/*!sc*/
.cprBrg .author-image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;top:-40px;left:50%;margin-left:-40px;width:80px;height:80px;border-radius:100%;overflow:hidden;padding:6px;z-index:2;box-shadow:#ececec 0 0 0 1px;background-color:#ffffff;}/*!sc*/
.cprBrg .author-image .img{position:relative;display:block;width:100%;height:100%;background-size:cover;background-position:center center;border-radius:100%;}/*!sc*/
.cprBrg .author-profile .author-image{position:relative;left:auto;top:auto;width:120px;height:120px;padding:3px;margin:-100px auto 0 auto;box-shadow:none;}/*!sc*/
data-styled.g42[id="Bio__BioWrapper-sc-d7fgaq-0"]{content:"cprBrg,"}/*!sc*/
.bvdhAj a{box-shadow:0 2px 0 0 #ffdc4e;}/*!sc*/
.bvdhAj a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
data-styled.g43[id="Bio__BioText-sc-d7fgaq-1"]{content:"bvdhAj,"}/*!sc*/
.icanYc{margin-bottom:2rem;color:#57595d;font-size:0.9em;}/*!sc*/
data-styled.g47[id="ContentHeader__Header-sc-1qtxhip-0"]{content:"icanYc,"}/*!sc*/
.fkcsai{line-height:1.6;}/*!sc*/
.fkcsai > h2{padding-top:3rem;margin-top:3rem;border-top:1px solid #ececec;}/*!sc*/
.fkcsai > h3{padding-top:3rem;}/*!sc*/
.fkcsai > p{margin:1em 0 0 0;}/*!sc*/
.fkcsai a{box-shadow:0 2px 0 0 #ffdc4e;}/*!sc*/
.fkcsai a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
.fkcsai a.anchor,.fkcsai a.gatsby-resp-image-link{box-shadow:none;}/*!sc*/
.fkcsai h1 .anchor svg,.fkcsai h2 .anchor svg,.fkcsai h3 .anchor svg,.fkcsai h4 .anchor svg,.fkcsai h5 .anchor svg,.fkcsai h6 .anchor svg{visibility:hidden;margin-left:-16px;}/*!sc*/
.fkcsai h1:hover .anchor svg,.fkcsai h2:hover .anchor svg,.fkcsai h3:hover .anchor svg,.fkcsai h4:hover .anchor svg,.fkcsai h5:hover .anchor svg,.fkcsai h6:hover .anchor svg,.fkcsai h1 .anchor:focus svg,.fkcsai h2 .anchor:focus svg,.fkcsai h3 .anchor:focus svg,.fkcsai h4 .anchor:focus svg,.fkcsai h5 .anchor:focus svg,.fkcsai h6 .anchor:focus svg{visibility:visible;}/*!sc*/
.fkcsai > blockquote{box-sizing:border-box;background-color:#f7f7f7;border-left:5px solid rgb(244,213,36);margin:30px 0px;padding:5px 20px;border-radius:0 8px 8px 0;}/*!sc*/
.fkcsai > blockquote p{margin:0.8em 0;font-style:italic;}/*!sc*/
.fkcsai .gatsby-highlight{border-radius:5px;font-size:15px;line-height:1.7;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em -1.5em;}/*!sc*/
@media (max-width:500px){.fkcsai .gatsby-highlight{border-radius:0;margin-left:-25px;margin-right:-25px;}}/*!sc*/
.fkcsai .gatsby-highlight > pre{border:0;margin:0;padding:1;}/*!sc*/
.fkcsai .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}/*!sc*/
.fkcsai .gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid #ffdc4e;}/*!sc*/
.fkcsai h1 > code.language-text,.fkcsai h2 > code.language-text,.fkcsai h3 > code.language-text,.fkcsai h4 > code.language-text,.fkcsai h5 > code.language-text,.fkcsai h6 > code.language-text,.fkcsai a > code.language-text,.fkcsai p > code.language-text,.fkcsai li > code.language-text,.fkcsai em > code.language-text,.fkcsai strong > code.language-text{background:#fff9d9;color:#222222cc;padding:0 3px;font-size:0.94em;border-radius:0.3rem;word-wrap:break-word;}/*!sc*/
.fkcsai code{word-wrap:break-word;}/*!sc*/
.fkcsai table{margin-top:1em;border-collapse:collapse;border-radius:0.5em;overflow:hidden;}/*!sc*/
.fkcsai table th,.fkcsai table td{padding:0.5em;background:#f7f7f7;border-bottom:2px solid #ffffff;}/*!sc*/
data-styled.g48[id="Content__ContentBody-sc-p0bolz-0"]{content:"fkcsai,"}/*!sc*/
.fvNsKo{padding:0 30px 30px;}/*!sc*/
@media only screen and (max-width:500px){.fvNsKo{padding:0;}}/*!sc*/
data-styled.g49[id="Article__ArticleWrapper-sc-jwdbi9-0"]{content:"fvNsKo,"}/*!sc*/
.kPbTtH{position:relative;margin:6rem 0 0;padding:3rem 0 0;border-top:1px solid #ececec;}/*!sc*/
data-styled.g50[id="Article__ArticleFooter-sc-jwdbi9-1"]{content:"kPbTtH,"}/*!sc*/
.eAgWMm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:770px;width:80%;margin:0px auto 30px auto;top:20px;position:relative;}/*!sc*/
@media (max-width:780px){.eAgWMm{width:100%;padding:25px;}}/*!sc*/
data-styled.g51[id="PrevNextPost__PreviewContainer-sc-1r1qyep-0"]{content:"eAgWMm,"}/*!sc*/
.eZksfy{cursor:pointer;-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;background-color:#ffffff;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);margin:20px 20px;border-radius:5px;}/*!sc*/
.eZksfy:hover{box-shadow:0 0 0 0,0 6px 12px #B2B3B5;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translate3D(0,-1px,0);-ms-transform:translate3D(0,-1px,0);transform:translate3D(0,-1px,0);}/*!sc*/
@media (min-width:780px){.eZksfy:first-child{margin-left:0;}.eZksfy:last-child{margin-right:0;}}/*!sc*/
data-styled.g52[id="PrevNextPost__Preview-sc-1r1qyep-1"]{content:"eZksfy,"}/*!sc*/
.hYyMxY{width:auto;height:200px;background:#c5d2d9 no-repeat 50%;background-size:cover;border-radius:5px 5px 0 0;}/*!sc*/
data-styled.g53[id="PrevNextPost__PreviewCover-sc-1r1qyep-2"]{content:"hYyMxY,"}/*!sc*/
.cpaNiw{padding:20px;}/*!sc*/
.cpaNiw header{padding:0 0 10px 0;}/*!sc*/
.cpaNiw section{padding-bottom:10px;}/*!sc*/
.cpaNiw footer{font-size:0.8em;}/*!sc*/
data-styled.g54[id="PrevNextPost__PreviewContent-sc-1r1qyep-3"]{content:"cpaNiw,"}/*!sc*/
.iahed{text-transform:uppercase;color:#697980;}/*!sc*/
data-styled.g56[id="Commons__ReadingTimeContainer-sc-1aaxjtz-3"]{content:"iahed,"}/*!sc*/
.eJVXHF{color:#697980;}/*!sc*/
data-styled.g57[id="Time__TimeContainer-sc-1u6vd0l-0"]{content:"eJVXHF,"}/*!sc*/
</style><title data-react-helmet="true">[AWS] Route 53 정책 레코드를 이용한 가중치 기반 트래픽 제어 | Devnori&#x27;s Tech Blog</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Lato:400,700&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="canonical" href="https://Sungchul-P.github.io/route53-policy-record"/><meta data-react-helmet="true" name="description" content="본 글에서는 DNS 레코드 유형과 동작 방식에 대해서는 다루지 않고, 트래픽 제어 테스트 관점에서만 작성되었습니다.
또한 AWS EC2, LoadBalancer, Route5…"/><meta data-react-helmet="true" property="og:url" content="https://Sungchul-P.github.io/route53-policy-record"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="[AWS] Route 53 정책 레코드를 이용한 가중치 기반 트래픽 제어 | Devnori&#x27;s Tech Blog"/><meta data-react-helmet="true" property="og:description" content="본 글에서는 DNS 레코드 유형과 동작 방식에 대해서는 다루지 않고, 트래픽 제어 테스트 관점에서만 작성되었습니다.
또한 AWS EC2, LoadBalancer, Route5…"/><meta data-react-helmet="true" property="og:image" content="https://Sungchul-P.github.io/static/0ae3fb17c129a9e9601a5d02bfca63a2/write-desktop.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="[AWS] Route 53 정책 레코드를 이용한 가중치 기반 트래픽 제어 | Devnori&#x27;s Tech Blog"/><meta data-react-helmet="true" name="twitter:description" content="본 글에서는 DNS 레코드 유형과 동작 방식에 대해서는 다루지 않고, 트래픽 제어 테스트 관점에서만 작성되었습니다.
또한 AWS EC2, LoadBalancer, Route5…"/><meta data-react-helmet="true" name="twitter:image" content="https://Sungchul-P.github.io/static/0ae3fb17c129a9e9601a5d02bfca63a2/write-desktop.jpg"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-F68KCEBSGZ', 'auto', {});
      
      
      
      
      
      }</script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl+'';f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer', 'G-F68KCEBSGZ');</script><link rel="icon" href="/favicon-32x32.png?v=f44b04687339c42b72dd22b8447a726f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=f44b04687339c42b72dd22b8447a726f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=f44b04687339c42b72dd22b8447a726f"/><link as="script" rel="preload" href="/webpack-runtime-4abc4db96e06513e4fd7.js"/><link as="script" rel="preload" href="/framework-8de36d3fd07627b19105.js"/><link as="script" rel="preload" href="/app-477f68e5559befaf2b7f.js"/><link as="script" rel="preload" href="/styles-29147cbc04bbc833f6a0.js"/><link as="script" rel="preload" href="/3a2f1ab89072400eb78a258db61265f1964eff8a-0ff53b57e8f535acdd30.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-56e4b8294c67b164e2f5.js"/><link as="fetch" rel="preload" href="/page-data/route53-policy-record/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1182710729.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1956263691.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-F68KCEBSGZ" height="0" width="0" style="display: none; visibility: hidden" aria-hidden="true"></iframe></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__HeaderWrapper-sc-1glvhxp-0 biaPcg"><nav class="Header__HeaderNav-sc-1glvhxp-1 iytSks"><a aria-label="View home page" class="Header__HeaderLink-sc-1glvhxp-3 Header__HeaderLinkTitle-sc-1glvhxp-4 elhPiP CyAGW" href="/"><span class="Header__HeaderLinkTitleContent-sc-1glvhxp-5 eBBsKA">Devnori&#x27;s Tech Blog</span></a><div class="Header__HeaderLinksContainer-sc-1glvhxp-2 eqjnh"><a aria-label="View Blog page" class="Header__HeaderLink-sc-1glvhxp-3 elhPiP" href="/">Blog</a><a aria-label="View About page" class="Header__HeaderLink-sc-1glvhxp-3 elhPiP" href="/about-me">About</a></div><button aria-label="open menu" class="Header__BurgerButton-sc-1glvhxp-9 fVNxWa"><div class="Header__BurgerContent-sc-1glvhxp-10 haVLMs"></div></button></nav></header><div class="layout__SiteContent-sc-nrr2ov-0 kOLqDM"><div style="background-image:url(&quot;/static/0ae3fb17c129a9e9601a5d02bfca63a2/write-desktop.jpg&quot;)" class="Hero__HeroContainer-sc-1wsaguq-0 hVUfrb"><div class="Hero__TitleContainer-sc-1wsaguq-1 fvPyrh"><h1 class="Hero__HeroTitle-sc-1wsaguq-2 fohBYO">[AWS] Route 53 정책 레코드를 이용한 가중치 기반 트래픽 제어</h1></div></div><main role="main" class="Wrapper-sc-xmiwfw-0 goZNct"><article class="Article__ArticleWrapper-sc-jwdbi9-0 fvNsKo"><section><header class="ContentHeader__Header-sc-1qtxhip-0 icanYc"><time class="Time__TimeContainer-sc-1u6vd0l-0 eJVXHF">17 March 2024</time><span class="Commons__Bull-sc-1aaxjtz-2 geJapC"></span><div class="TagList__ListContainer-sc-tgjq80-0 grBXYh"><a class="TagList__TagListItemLink-sc-tgjq80-1 dYmwqK" href="/tags/geultto9">geultto9</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 dYmwqK" href="/tags/route53">route53</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 dYmwqK" href="/tags/policy-record">policy-record</a>, <a class="TagList__TagListItemLink-sc-tgjq80-1 dYmwqK" href="/tags/traffic">traffic</a></div></header><div class="Content__ContentBody-sc-p0bolz-0 fkcsai"><blockquote><p>본 글에서는 DNS 레코드 유형과 동작 방식에 대해서는 다루지 않고, 트래픽 제어 테스트 관점에서만 작성되었습니다.
또한 AWS EC2, LoadBalancer, Route53 등에 대해서는 따로 설명을 하지 않기 때문에 관련 경험이 있으신 분이 보기에 적합합니다.</p></blockquote><h2 id="트래픽-제어-시나리오" style="position:relative"><a href="#%ED%8A%B8%EB%9E%98%ED%94%BD-%EC%A0%9C%EC%96%B4-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4" aria-label="트래픽 제어 시나리오 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>트래픽 제어 시나리오</h2><p>ElasticBeanstalk(이하 A-traffic)로 사용 중인 API 서버를 컨테이너화하여 EKS 환경(이하 B-Traffic)으로 마이그레이션 합니다. </p><p>마이그레이션 과정에서 다운타임을 최소화 해야 하고, 문제 발생 시 빠르게 롤백 하여 정상화 할 수 있는 방법을 선택해야 합니다. 이를 위해 <a href="https://cloud.google.com/deploy/docs/deployment-strategies/canary?hl=ko">카나리 배포 전략</a>을 사용하여 트래픽을 제어하고 모니터링합니다.</p><p>단, 해당 글에서는 ElasticBeanstalk와 EKS를 구성하지는 않고 트래픽 제어에만 집중하기 위해 각 환경을 EC2 + Application Load Balancer로 간단하게 구성해서 진행했습니다.</p><blockquote><p>카나리 배포</p><ul><li>이미 배포된 버전과 새 버전 간에 트래픽을 분할하여 완전히 배포되기 전에 일부 사용자에게 배포하는 애플리케이션의 점진적 출시입니다.</li></ul></blockquote><p>Route 53 정책 레코드를 카나리 배포하기 위한 과정을 요약하자면 다음과 같습니다.</p><ol><li>가중치 기반 트래픽 정책 생성</li><li>트래픽 정책으로 정책 레코드 생성(DNS 레코드 유형 = A)</li><li>A-Traffic DNS 레코드의 값을 ALB 엔드포인트에서 정책 레코드로 수정</li><li>B-Traffic DNS 레코드의 값을 정책 레코드로 지정하여 생성(CNAME)</li><li>트래픽 정책으로 가중치 변경 하면서 분할 확인</li></ol><h2 id="트래픽-정책-및-정책-레코드-생성" style="position:relative"><a href="#%ED%8A%B8%EB%9E%98%ED%94%BD-%EC%A0%95%EC%B1%85-%EB%B0%8F-%EC%A0%95%EC%B1%85-%EB%A0%88%EC%BD%94%EB%93%9C-%EC%83%9D%EC%84%B1" aria-label="트래픽 정책 및 정책 레코드 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>트래픽 정책 및 정책 레코드 생성</h2><p>가중치에 따라 A-Traffic과 B-Traffic의 ALB 엔드포인트로 분할될 수 있도록 트래픽 정책을 생성합니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:68.91891891891892%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVQoz41Sa2vUQBTN//8Vgn4S+oC20uqXVlAqVFm22squkH1kJ5lkksxkdt6P9CbW6q4iPRyGy+Ue7j33TtIpz7WvuGtlUNp6F/oR8RlIqhLnaNk2RU1QibO6wRhnCKHmGUjynJ6cLY5PVofHi4Oj9OAI4gXG1Bgtpfo/EmvDes2yDV+uGEICY5MXSmvvfXBuIAQxhn8igSprTYhOKaG1Gv0+2v5lfqgDh33sd/NxEIfgIRZS5bi+/lRfva8v3uLzCwzv6ZsCoW0IjgtGedl2BZDyomabTtSD+AlKmQzx9HuR3Wabu3zzbZPdFVVFaSdmi5uPt6+vJi9HvrqcvJj+eLcjhiGsBbtmnPxxSudgNHDuvPWSctF2wGg8pHbE1jpwB7UlIS1jQimQwc7ANtT2Idqy1XkFdAUJ2u6LYfmS8Xq5FmWlSWMZZ4xTJtL1dDI/v5mdAj/Pz67vD++XH/bG9nwrRdP2QvVC9Ntt5Fsl4HKWtFmKprPVl/nIVfkVN+le56E5+JRaG2ufPMfRc++jIq0oiMC1bzis5y/Psdda5yinlEopfybhNdZYZzRtFal0Q3RNrJLJnz8GmijltHZSGnjhnwGNcb8rxhvE8Riw2ge5mBqZ594+dwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/441ff09eccc30466154e9ae9ef9ceaa7/cbe2e/01-traffic-policy.webp 148w,/static/441ff09eccc30466154e9ae9ef9ceaa7/3084c/01-traffic-policy.webp 295w,/static/441ff09eccc30466154e9ae9ef9ceaa7/5ca24/01-traffic-policy.webp 590w,/static/441ff09eccc30466154e9ae9ef9ceaa7/dad35/01-traffic-policy.webp 885w,/static/441ff09eccc30466154e9ae9ef9ceaa7/2baf0/01-traffic-policy.webp 1180w,/static/441ff09eccc30466154e9ae9ef9ceaa7/b84eb/01-traffic-policy.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/441ff09eccc30466154e9ae9ef9ceaa7/12f09/01-traffic-policy.png 148w,/static/441ff09eccc30466154e9ae9ef9ceaa7/e4a3f/01-traffic-policy.png 295w,/static/441ff09eccc30466154e9ae9ef9ceaa7/fcda8/01-traffic-policy.png 590w,/static/441ff09eccc30466154e9ae9ef9ceaa7/efc66/01-traffic-policy.png 885w,/static/441ff09eccc30466154e9ae9ef9ceaa7/c83ae/01-traffic-policy.png 1180w,/static/441ff09eccc30466154e9ae9ef9ceaa7/e8950/01-traffic-policy.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/441ff09eccc30466154e9ae9ef9ceaa7/fcda8/01-traffic-policy.png" alt="01-traffic-policy" title="01-traffic-policy" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>트래픽 정책에서 Route53의 상태 검사 기능을 활용하면, 한쪽이 비정상일 경우 가중치와 상관없이 정상으로 확인되는 곳으로 트래픽이 흘러갈 수 있도록 합니다. 즉, 새로 배포한 환경이 문제가 생겨 트래픽을 받을 수 없는 상황에 대해 어느정도 방어할 수 있습니다. </p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:58.10810810810811%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVQoz3VSW47UMBDM5TkB4g4cAAkJ8bMH2B8+kJgls5oZ52Unjt923LZDJ5lFI8SWSu225Kp+JJX3fl3Xz8/0wzdSX1pGh6ZppRAlFYgQYwTYYoxHfARU1loURyMEI+PIpFJSyYZ21/ZG+qanw43c2q7t+u6RwzD0fV8ppUopk4X65XI5X8QkxSi//vjy6fnj08/vmkpybepfv3fW51P9eqrrU03O11mYSgiBlbWPcmBqoHqa9cjFMNCeKMYcF5YLM83/ULPRGFeFEFDsrDFy0pJj21zgoZWyKeeyrsj/o5RKa42JdZ4SMlGKV7skHdIC76r+4i7G+jOfcPOHArcopFxzztaCMYBxSyy+25jSXYwzQ0oo430P1qSd0ei4JXYihDfN3LZz1/K2WaRAu3VZHsQAzrkFLXPKADlBgZRTSkZbpY7xDmIrOfh1X9MmXnYbjPjVfQh4YB7wCtEyiq64yoDeGK1dvDeM5f3X2MQjn7FtdLzXRyXCo09YnEPXaExyDmfGKTImWheAt7algh1uB2qOBHcGb4/ewx+8jq752MzKXgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/ff34b3ea7fcfd8dd031770476fbc11e7/cbe2e/02-route53-health-checks.webp 148w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/3084c/02-route53-health-checks.webp 295w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/5ca24/02-route53-health-checks.webp 590w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/dad35/02-route53-health-checks.webp 885w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/2baf0/02-route53-health-checks.webp 1180w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/b84eb/02-route53-health-checks.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/ff34b3ea7fcfd8dd031770476fbc11e7/12f09/02-route53-health-checks.png 148w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/e4a3f/02-route53-health-checks.png 295w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/fcda8/02-route53-health-checks.png 590w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/efc66/02-route53-health-checks.png 885w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/c83ae/02-route53-health-checks.png 1180w,/static/ff34b3ea7fcfd8dd031770476fbc11e7/e8950/02-route53-health-checks.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/ff34b3ea7fcfd8dd031770476fbc11e7/fcda8/02-route53-health-checks.png" alt="02-route53-health-checks" title="02-route53-health-checks" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>위에서 생성한 트래픽 정책으로 정책 레코드를 생성합니다. </p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:37.83783783783784%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA30lEQVQY042QTZKDIBCFuf8mN5rKBbLMahaJGSVRIgPY8iOIedHSyiYzeUVBF837umlWVRWf1bat9z7GmD9TCIHhtVrVdd04jtNngp/hcM5Za4dhAAjmlBIuAf7XzwAwxhARynZE2hittQ8BX1ja+8uMUij7K+WN8/p6VVJiyfsdI6jrWgjR9z1wIGNHjDY3Ilsi0zSn41EUBTWNuFw0544IEK0UPACBUpbl3Bxtc2F5jkgpfj5rITIGbu3o/JSn17YRrJ6MY3hmJ7bkkIgpvRv1xrAhKRu/vs1uzw8//QPu3NEilpCfZAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/a2e17725a3ab0721e9c09faf6e0b97b6/cbe2e/03-create-policy-record.webp 148w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/3084c/03-create-policy-record.webp 295w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/5ca24/03-create-policy-record.webp 590w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/dad35/03-create-policy-record.webp 885w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/2baf0/03-create-policy-record.webp 1180w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/b84eb/03-create-policy-record.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/a2e17725a3ab0721e9c09faf6e0b97b6/12f09/03-create-policy-record.png 148w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/e4a3f/03-create-policy-record.png 295w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/fcda8/03-create-policy-record.png 590w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/efc66/03-create-policy-record.png 885w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/c83ae/03-create-policy-record.png 1180w,/static/a2e17725a3ab0721e9c09faf6e0b97b6/e8950/03-create-policy-record.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/a2e17725a3ab0721e9c09faf6e0b97b6/fcda8/03-create-policy-record.png" alt="03-create-policy-record" title="03-create-policy-record" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>정책 레코드는 가중치 기반 규칙 또는 엔드포인트를 수정할 때마다 버전이 새롭게 생성되는 데, 이를 활용하여 원하는 비율의 규칙들을 미리 생성해두고 모니터링 결과에 따라 빠르게 변경 적용할 수 있습니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:31.08108108108108%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVQY04VQTWvCQBDNP8opEmxQA9JDC35QaH+i10Q9tIT+Bm8SFDFWs5uEhCzRfO26WSfRi1D08ZgdZnZm3ozkeR5CKIoiSinnXAhR3bF6AKkoijzPodj3/WNyTE8pLUpR96gaigeQrg/8SQnZLO3tao3/XLxHQLQ7kCB8XnzmfLlYfI7ev8ZvHb2ndbsdXVeU1rdhQpYx9r/sRmAtzrHtj8Hwtd9/UVWg1m4rsmxOJpSxKAzjOCaEBEGAMQbHdV1YU7qtJ0SWJL/z+Y9pWrOZNZ1a4BsGcpzr5HMDOGqWZWDLsoTgBSqoPGFcUx+yAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/2d57c7bb1108bd2d9350e9bfc688d81d/cbe2e/04-edit-policy-record.webp 148w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/3084c/04-edit-policy-record.webp 295w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/5ca24/04-edit-policy-record.webp 590w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/dad35/04-edit-policy-record.webp 885w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/2baf0/04-edit-policy-record.webp 1180w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/b84eb/04-edit-policy-record.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/2d57c7bb1108bd2d9350e9bfc688d81d/12f09/04-edit-policy-record.png 148w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/e4a3f/04-edit-policy-record.png 295w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/fcda8/04-edit-policy-record.png 590w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/efc66/04-edit-policy-record.png 885w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/c83ae/04-edit-policy-record.png 1180w,/static/2d57c7bb1108bd2d9350e9bfc688d81d/e8950/04-edit-policy-record.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/2d57c7bb1108bd2d9350e9bfc688d81d/fcda8/04-edit-policy-record.png" alt="04-edit-policy-record" title="04-edit-policy-record" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h2 id="레코드-유형-및-값-수정" style="position:relative"><a href="#%EB%A0%88%EC%BD%94%EB%93%9C-%EC%9C%A0%ED%98%95-%EB%B0%8F-%EA%B0%92-%EC%88%98%EC%A0%95" aria-label="레코드 유형 및 값 수정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>레코드 유형 및 값 수정</h2><p>기존 레코드는 ALB 엔드포인트로 지정되어 있던 A 유형을 CNAME으로 변경하고 정책 레코드를 바라보게 하여, 트래픽 정책을 통해 제어할 수 있도록 합니다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:50.67567567567568%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABU0lEQVQoz21R2W7DIBDk+/tZVZ/yBW3UJs1lG7A5zHo5nKODLUV9yGrAK7Ps7Azisxn2rd436ni+SN0HojGElzDOrbAVHrvY7NTX92673R4ORxcmBL3CxOxw0wI1lNJIBNMopeykJKKSc0yJY3yJlFKM9eOcl12HXqIzXtpR614PppVSaT3+C79gHfuZjMShPDxncbo0v+fGeYilpTSEiVcQc2XKeTWiTu6dGsD7Yz7ext27gO5OadUPndTWusBspmgISKFezKB70sKnwdgYTGk2yR4FZj70Dr0xMdGEakjDwr4uZoZd1TGuyhG5zFwehLEnjg49ieZ5RjXuUy2MgeoOm8G++GzRqMxzWA4wDRqKUor3/nQ6G2Pv9ztyUNxut8cSMOJ6veJh2hZuylwKCFCGI/wXkAKrL03btK0xZhHmQh2lBgiR4xGkUovqsB5VM3L+A9xSNkjOsRpqAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/a07fe87f313abfa9f7ef05b529ad81c2/cbe2e/05-edit-dns-records.webp 148w,/static/a07fe87f313abfa9f7ef05b529ad81c2/3084c/05-edit-dns-records.webp 295w,/static/a07fe87f313abfa9f7ef05b529ad81c2/5ca24/05-edit-dns-records.webp 590w,/static/a07fe87f313abfa9f7ef05b529ad81c2/dad35/05-edit-dns-records.webp 885w,/static/a07fe87f313abfa9f7ef05b529ad81c2/2baf0/05-edit-dns-records.webp 1180w,/static/a07fe87f313abfa9f7ef05b529ad81c2/b84eb/05-edit-dns-records.webp 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/a07fe87f313abfa9f7ef05b529ad81c2/12f09/05-edit-dns-records.png 148w,/static/a07fe87f313abfa9f7ef05b529ad81c2/e4a3f/05-edit-dns-records.png 295w,/static/a07fe87f313abfa9f7ef05b529ad81c2/fcda8/05-edit-dns-records.png 590w,/static/a07fe87f313abfa9f7ef05b529ad81c2/efc66/05-edit-dns-records.png 885w,/static/a07fe87f313abfa9f7ef05b529ad81c2/c83ae/05-edit-dns-records.png 1180w,/static/a07fe87f313abfa9f7ef05b529ad81c2/e8950/05-edit-dns-records.png 2000w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/a07fe87f313abfa9f7ef05b529ad81c2/fcda8/05-edit-dns-records.png" alt="05-edit-dns-records" title="05-edit-dns-records" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h2 id="참고-자료" style="position:relative"><a href="#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C" aria-label="참고 자료 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고 자료</h2><ul><li><a href="https://cloud.google.com/deploy/docs/deployment-strategies/canary?hl=ko">카나리 배포 전략</a></li></ul></div></section><footer class="Article__ArticleFooter-sc-jwdbi9-1 kPbTtH"><div class="Bio__BioWrapper-sc-d7fgaq-0 cprBrg"><figure class="author-image"><div alt="Sungchul Park" style="background-image:url(&quot;/static/f44b04687339c42b72dd22b8447a726f/66640/icon.png&quot;)" class="img"></div></figure><section><h4>About the author</h4><p class="Commons__Text-sc-1aaxjtz-1 Bio__BioText-sc-d7fgaq-1 jXHCFx bvdhAj">
  배움을 멈추지 않고, 언젠가 넓고 깊은 지식을 갖게 되기를 꿈꾸고 있습니다! 🚀 <br>
  또한 누군가에게 선한 영향력을 미칠 수 있는 사람이 되기를 소망합니다 🌟
  </p></section></div></footer></article> </main><main role="main" class="Wrapper-sc-xmiwfw-0 goZNct"><div class="comments-wrapper"><div>Loading script...</div><div></div></div></main> <aside class="PrevNextPost__PreviewContainer-sc-1r1qyep-0 eAgWMm"><article class="PrevNextPost__Preview-sc-1r1qyep-1 eZksfy"><a aria-label="View 아마추어들은 도구에 집착하고, 전문가들은 숙련에 집착한다 article" href="/overview-linux-kernel"><div style="background-image:url(&quot;/static/0ae3fb17c129a9e9601a5d02bfca63a2/write-desktop.jpg&quot;)" class="PrevNextPost__PreviewCover-sc-1r1qyep-2 hYyMxY"></div><div class="PrevNextPost__PreviewContent-sc-1r1qyep-3 cpaNiw"><header><h2>아마추어들은 도구에 집착하고, 전문가들은 숙련에 집착한다</h2></header><section><p>얼마 전, GeekNews를 통해 읽은 글( GN…</p></section><footer><span class="Commons__ReadingTimeContainer-sc-1aaxjtz-3 iahed">2<!-- --> min read</span><span class="Commons__Bull-sc-1aaxjtz-2 geJapC"></span><div class="TagList__ListContainer-sc-tgjq80-0 grBXYh"><span to="/tags/geultto9" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">geultto9</span>, <span to="/tags/modern-linux" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">modern-linux</span>, <span to="/tags/kernel" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">kernel</span>, <span to="/tags/pros" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">pros</span>, <span to="/tags/mastery" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">mastery</span></div></footer></div></a></article><article class="PrevNextPost__Preview-sc-1r1qyep-1 eZksfy"><a aria-label="View k8sGPT를 사용하여 쿠버네티스 트러블슈팅 하기(feat. 로컬LLM) article" href="/k8sgpt-with-local-llm"><div style="background-image:url(&quot;/static/ba8134f1a143435be22521cd0a978ec2/k8s-logo-by-DALL-E.png&quot;)" class="PrevNextPost__PreviewCover-sc-1r1qyep-2 hYyMxY"></div><div class="PrevNextPost__PreviewContent-sc-1r1qyep-3 cpaNiw"><header><h2>k8sGPT를 사용하여 쿠버네티스 트러블슈팅 하기(feat. 로컬LLM)</h2></header><section><p>k8sGPT “K8sGPT는 쿠버네티스 클러스터를 스캔하고 문제를 진단 및 분류하기 위한 도구입니다. 
분석기에 SRE 경험이 코드화되어 있으며 가장 관련성이 높은 정보를 추출하여 AI로 보강하는 데 도움을 줍니다.” k8sGPT…</p></section><footer><span class="Commons__ReadingTimeContainer-sc-1aaxjtz-3 iahed">3<!-- --> min read</span><span class="Commons__Bull-sc-1aaxjtz-2 geJapC"></span><div class="TagList__ListContainer-sc-tgjq80-0 grBXYh"><span to="/tags/geultto9" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">geultto9</span>, <span to="/tags/k8sgpt" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">k8sgpt</span>, <span to="/tags/chatgpt" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">chatgpt</span>, <span to="/tags/llama2" class="TagList__TagListItem-sc-tgjq80-2 hvdKzN">llama2</span></div></footer></div></a></article></aside> <!-- --> </div><footer class="Footer__FooterWrapper-sc-t92llg-0 gWjXHt"><nav><div class="footer-col"><h5 class="footer-title">Sungchul Park<!-- --> © <!-- -->2024</h5><p class="footer-item-text">Built with<!-- --> <a class="footer-link" href="https://www.gatsbyjs.org">Gatsby</a>.</p><p class="footer-item-text">Theme using<!-- --> <a class="footer-link" href="https://github.com/maxpou/gatsby-starter-morning-dew">gatsby-starter-morning-dew</a>.</p><p class="footer-item-text">Hosted with<!-- --> <span class="footer-heart" role="img" aria-label="Love">❤</span> <!-- -->by<!-- --> <a class="footer-link" href="https://github.com">GitHub</a>.</p></div><div class="footer-col"><h5 class="footer-title">Explore</h5><span class="footer-item"><a class="footer-link" href="/">Blog</a></span><span class="footer-item"><a class="footer-link" href="/about-me">About</a></span></div><div class="footer-col"><h5 class="footer-title">Follow the author</h5><span class="footer-item"><a class="footer-link" href="https://github.com/Sungchul-P/Sungchul-P.github.io">GitHub</a></span><span class="footer-item"><a class="footer-link" href="https://Sungchul-P.github.io/">Website</a></span></div></nav></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://cdn.panelbear.com/analytics.js?site=AVlbX7MNoAU"></script><script>
          window.panelbear = window.panelbear || function() { (window.panelbear.q = window.panelbear.q || []).push(arguments); };
          panelbear('config', {"site":"AVlbX7MNoAU","spaMode":"history","debug":false});
        </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/route53-policy-record";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-a2ed9b0e80ad7bab48b1.js"],"app":["/app-477f68e5559befaf2b7f.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-46b4173e1060a5c82475.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a9fc5de1a467830166ac.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-232beb011b6a474f4abf.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-56e4b8294c67b164e2f5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-5be5296e17143032c605.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-7551dbe586f36889892e.js"]};/*]]>*/</script><script src="/polyfill-a2ed9b0e80ad7bab48b1.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-56e4b8294c67b164e2f5.js" async=""></script><script src="/3a2f1ab89072400eb78a258db61265f1964eff8a-0ff53b57e8f535acdd30.js" async=""></script><script src="/styles-29147cbc04bbc833f6a0.js" async=""></script><script src="/app-477f68e5559befaf2b7f.js" async=""></script><script src="/framework-8de36d3fd07627b19105.js" async=""></script><script src="/webpack-runtime-4abc4db96e06513e4fd7.js" async=""></script></body></html>